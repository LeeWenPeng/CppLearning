## 1  函数原型

```cpp
template <class... T>
void f(T... args);
```

### 1.1  示例

```cpp
#include <iostream>
using namespace std;

template<class… T>
void f(T… args){
    cout << sizeof…(args) << endl;
}

int main(){
    f();
    f(1);
    f(1,2,3);
    return 0;
}
```

## 2  展开方式

- 通过递归函数来展开参数包
- 通过逗号表达式展开参数包

## 3  递归函数展开参数包

通过递归函数展开参数包，需要提供一个参数包展开的函数和一个递归终止函数

### 3.1  示例

```cpp
#include <iostream>

using namespace std;

#if 1
// 终止函数
void print()
{
    cout << "empty" << endl;
}

// 展开函数
template <class T, class …Args>
void print(T head, Args… rest){
    cout << "parameter" << head << endl;
    print(rest…); 
}
int main(){
    print(1, 2, 3, 4);
    /*
        参数包 Args… 在展开的过程中递归调用自己，每调用一次参数包中的参数会少一个，直到所有参数都展开为止
        当没有参数的时候，就会调用非模板函数 print 终止递归过程
    */
    return 0;
}
#endif
```

## 4  通过逗号表达式展开参数包

### 4.1  示例

```cpp
#include <iostream>

using namespace std;

template<class T>
void printarg(T t){
    cout << t << endl;
}

template <class …Args>
void expand(Args… args){
    int arr[] = {(printarg(args), 0)…};
}

int main(){ 
    expand(1, 2, 3, 4);
    return 0;
}
```

```cpp
int arr[] = {(printarg(args), 0)…};
```

- 逗号表达式 `(printarg(args), 0)` 会先执行 `printarg(args)`，然后再返回 0。
	- 因此，逗号表达式的最终结果为 0,也就是说 arr 数组中的值为 3 个 0。
- 后面的 `…` 表示将逗号表达式展开到每个参数上。
	- 也就是 `(printarg(1), 0)`、`(printarg(2), 0)`、`(printarg(3), 0)`、`(printarg(4), 0)`、

## 5  折叠表达式

C++ 17 中有了对逗号表达式的优化

```cpp
template <class …Args>
void expand(Args… args){
    (printarg(args), …);
}
```
