## 语法

```shell
gcc [options] <input> -o <output>
```

+ **`[options]`**：编译选项，用于控制编译过程（如优化级别、调试信息、警告级别等）。这些选项是可选的，如果省略，GCC 会使用默认行为。
+ **`<input>`**：输入文件，通常是源代码文件（如 `.c` 文件）或目标文件（如 `.o` 文件）。
+ **`-o <output>`**：指定输出文件的名称。`<output>` 是生成的文件名（如可执行文件、目标文件或汇编文件）。

### 1. **基本编译选项**

- `-o <file>`: 指定输出文件的名称和类型。
    - 如果不使用 `-o` 选项，GCC 会使用默认的输出文件名。

- `-c`: 只编译源文件，生成目标文件（`.o`），不进行链接。例如：`gcc -c input.c`
- `-E`: 只进行预处理，输出预处理后的代码到标准输出。例如：`gcc -E input.c`
- `-S`: 只编译到汇编代码，生成汇编文件（`.s`）。例如：`gcc -S input.c`

### 2. **优化选项**

- `-O0`: 不进行优化（默认）。
- `-O1`: 基本优化，减少代码大小和执行时间。
- `-O2`: 更高级的优化，包括`-O1`的优化以及更多的优化措施。
- `-O3`: 最高级别的优化，可能会增加代码大小。
- `-Os`: 优化代码大小。
- `-Ofast`: 启用所有优化，包括可能不符合严格标准的行为。

### 3. **调试选项**

- `-g`: 生成调试信息，用于 GDB 调试。例如：`gcc -g input.c`
- `-ggdb`: 生成更详细的调试信息，专为 GDB 使用。
- `-p`: 生成额外的代码，用于性能分析工具（如 `prof`）。
- `-pg`: 生成额外的代码，用于 `gprof` 性能分析工具。

### 4. **警告选项**

- `-Wall`: 启用所有常见的警告信息。
- `-Wextra`: 启用额外的警告信息。
- `-Werror`: 将所有警告视为错误。
- `-Wno-<warning>`: 禁用特定的警告。例如：`-Wno-unused-variable`

### 5. **链接选项**

- `-l<library>`: 链接指定的库。例如：`gcc -o output input.c -lm`（链接数学库）。
- `-L<dir>`: 指定库文件的搜索路径。例如：`gcc -o output input.c -L/my/libs -lmylib`
- `-static`: 静态链接库。
- `-shared`: 生成共享库（动态库）。

### 6. **预处理选项**

- `-D<macro>`: 定义宏。例如：`gcc -DDEBUG input.c`
    - 与`#ifdef`等配合使用

- `-U<macro>`: 取消定义宏。
- `-I<dir>`: 指定头文件的搜索路径。例如：`gcc -I/my/includes input.c`

### 7. **语言选项**

- `-std=<standard>`: 指定 C 或 C++ 标准，默认`GUN C`。例如：`gcc -std=c99 input.c`
- `-ansi`: 遵循 ANSI C 标准。
- `-pedantic`: 严格遵循标准，拒绝不符合标准的代码。

### 8. **架构和平台选项**

- `-m32`: 生成 32 位代码。
- `-m64`: 生成 64 位代码。
- `-march=<arch>`: 指定目标架构。例如：`-march=native`（使用本地机器的架构）。
- `-mtune=<cpu>`: 优化代码以适应特定的 CPU。

### 9. **其他常用选项**

- `-v`: 显示编译过程的详细信息。
- `-MM`: 生成依赖关系，用于 Makefile。
- `-fPIC`: 生成位置无关代码，通常用于共享库。
- `-pthread`: 启用 POSIX 线程支持。

### 10. **环境变量**

- `CFLAGS`: 用于设置 C 编译器的选项。
- `CXXFLAGS`: 用于设置 C++ 编译器的选项。
- `LDFLAGS`: 用于设置链接器的选项。