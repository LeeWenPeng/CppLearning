一个 Makefile 文件是由许多条规则构成，而一条规则为一个完整编译型单元，由**目标、目标的依赖与目标的更新方法**三部分组成。

## 1  规则语法（多行写法）

![makefile三要素*1000](img/2-规则/makefile三要素.md)

通过对依赖（prerequisites）执行方法（recipe），从而生成目标（target）

```makefile
target …: prerequisites …
	recipe
	…
	…
```

- target：目标，要生成的文件或执行的动作名称
- prerequisites：依赖，也就是先决条件，生成目标所需要的文件或者目标，在 `:` 后列出
- recipe：方法，一系列的 Shell 命令，以 tab 开头，用于从依赖中生成目标

> [! tip] 规则的递归执行
方法在执行之前，先检查规则中的依赖是否存在
> - 存在，直接执行方法；
> - 不存在，则向下检查，查找生成依赖文件的规则，并执行该规则以生成缺失依赖。

## 2  规则语法（一行写法）

```makefile
target: prerequisites; recipe; …; …
```

- 需要使用分号 `;`，将依赖与方法，方法与方法之间隔开
